import{d as t,r as e,a as s,c as a,b as n,w as o,v as l,e as r,f as i,g as d,F as u,h as m,i as c,o as p,t as g,j as h,k as b}from"./vendor.5e8358d9.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(s){const a=new URL(t,location),n=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((s,o)=>{const l=new URL(t,a);if(self[e].moduleMap[l])return s(self[e].moduleMap[l]);const r=new Blob([`import * as m from '${l}';`,`${e}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){o(new Error(`Failed to import: ${t}`)),n(i)},onload(){s(self[e].moduleMap[l]),n(i)}});document.head.appendChild(i)})),self[e].moduleMap={}}}("/youtube-stat-test/assets/");var v=t({name:"YoutubeStatsPage",mounted(){this.inputEl.focus()},setup:()=>{const t=e(null),a=e(""),n=s({items:[],status:{start:!0,error:!1,loading:!1,success:!1,notFound:!1}});return{inputEl:t,id:a,data:n,onSubmit:async()=>{""===a.value&&(a.value="UC-lHJZR3Gqxm24_Vd_AJ5Yw"),n.status={loading:!0};const t=`https://www.googleapis.com/youtube/v3/channels?id=${a.value}&key=AIzaSyDzVqmN6DGNhR6KqODvTCo3P1ZQu0HcXBM&part=brandingSettings,statistics`,e=await fetch(t).catch((()=>{n.status={error:!0}}));if(void 0===e)return;const s=await e.json().catch((()=>{n.status={error:!0}}));if(s&&s.items&&s.items.length){const{brandingSettings:{channel:{title:t}},statistics:{videoCount:e,viewCount:a}}=s.items[0];return n.items=[{label:"Channel Name",value:t},{label:"Total Views",value:a},{label:"Average Views",value:Math.round(a/e)}],void(n.status={success:!0})}n.status={notFound:!0}},DEFAULT_CHANNEL_ID:"UC-lHJZR3Gqxm24_Vd_AJ5Yw"}}});const y={class:"bg-white px-4 pt-8 sm:px-20 sm:pb-8 sm:pt-16 sm:rounded-lg sm:shadow-lg sm:max-w-lg sm:h-120"},f=n("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," YouTube Channel Stats ",-1),w=n("label",{for:"email",class:"mt-10 block text-sm font-medium text-gray-700"},"YouTube Channel ID",-1),x={class:"mt-1"},C={class:"sm:h-60 mt-5 sm:overflow-y-auto"},S={key:0,class:"text-gray-500"},_={key:1,class:"text-red-300"},k=c(" Whoops, something went wrong. "),L=n("br",null,null,-1),U=c("Please check if the id is correct "),A={key:2},E={key:3,class:"text-yellow-700"},R=n("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-5"}," Channel Stats ",-1),D={class:"border-t border-gray-200 px-4 py-5 sm:p-0"},F={class:"sm:divide-y sm:divide-gray-200"},T={class:"text-sm font-medium text-gray-500"},Y={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"};v.render=function(t,e,s,c,h,b){return p(),a("div",y,[f,n("form",{action:"submit",onSubmit:e[2]||(e[2]=r(((...e)=>t.onSubmit&&t.onSubmit(...e)),["prevent"]))},[w,n("div",x,[o(n("input",{type:"text",name:"channelId",id:"channelId",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:t.DEFAULT_CHANNEL_ID,"onUpdate:modelValue":e[1]||(e[1]=e=>t.id=e),ref:"inputEl"},null,8,["placeholder"]),[[l,t.id]])])],32),n("div",C,[t.data.status.start?(p(),a("div",S," Please type in some YouTube channel id ")):i("",!0),t.data.status.error?(p(),a("div",_,[k,L,U])):i("",!0),t.data.status.loading?(p(),a("div",A,"Loading...")):i("",!0),t.data.status.notFound?(p(),a("div",E,"There is no channel with such an id.")):i("",!0),o(n("div",null,[R,n("div",D,[n("dl",F,[(p(!0),a(u,null,m(t.data.items,((t,e)=>(p(),a("div",{key:e,class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4"},[n("dt",T,g(t.label),1),n("dd",Y,g(t.value),1)])))),128))])])],512),[[d,t.data.status.success]])])])};var j=t({name:"App",components:{YoutubeStatsPage:v}});const M={class:"sm:bg-gradient-to-r sm:from-gray-200 sm:to-gray-300 sm:w-screen sm:h-screen sm:grid sm:place-content-center"};j.render=function(t,e,s,o,l,r){const i=h("YoutubeStatsPage");return p(),a("div",M,[n(i)])};b(j).mount("#app");
