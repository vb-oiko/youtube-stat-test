import{d as t,r as e,a as s,c as a,b as n,w as o,v as l,e as r,f as i,g as m,F as d,h as u,i as c,o as p,t as g,j as b,k as h}from"./vendor.5e8358d9.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(s){const a=new URL(t,location),n=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((s,o)=>{const l=new URL(t,a);if(self[e].moduleMap[l])return s(self[e].moduleMap[l]);const r=new Blob([`import * as m from '${l}';`,`${e}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){o(new Error(`Failed to import: ${t}`)),n(i)},onload(){s(self[e].moduleMap[l]),n(i)}});document.head.appendChild(i)})),self[e].moduleMap={}}}("/youtube-stat-test/assets/");var v=t({name:"YoutubeStatsPage",mounted(){this.inputEl.focus()},setup:()=>{const t=e(null),a=e(""),n=s({items:[],status:{start:!0,error:!1,loading:!1,success:!1}});return{inputEl:t,id:a,data:n,onSubmit:async()=>{""===a.value&&(a.value="UC-lHJZR3Gqxm24_Vd_AJ5Yw"),n.status={loading:!0};const t=await fetch("https://www.googleapis.com/youtube/v3/channels?id=UC-lHJZR3Gqxm24_Vd_AJ5Yw&key=AIzaSyDzVqmN6DGNhR6KqODvTCo3P1ZQu0HcXBM&part=brandingSettings,statistics").catch((()=>{n.status={error:!0}}));if(void 0===t)return;const e=await t.json().catch((()=>{n.status={error:!0}}));if(e&&e.items&&e.items.length){const{brandingSettings:{channel:{title:t}},statistics:{videoCount:s,viewCount:a}}=e.items[0];n.items=[{label:"Channel Name",value:t},{label:"Total Views",value:a},{label:"Average Views",value:Math.round(a/s)}],n.status={success:!0}}},DEFAULT_CHANNEL_ID:"UC-lHJZR3Gqxm24_Vd_AJ5Yw"}}});const f={class:"bg-white px-4 pt-8 sm:px-20 sm:pb-8 sm:pt-16 sm:rounded-lg sm:shadow-lg sm:max-w-lg sm:h-120"},y=n("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," YouTube Channel Stats ",-1),w=n("label",{for:"email",class:"mt-10 block text-sm font-medium text-gray-700"},"YouTube Channel ID",-1),x={class:"mt-1"},_={class:"sm:h-60 mt-5 sm:overflow-y-auto"},C={key:0,class:"text-gray-500"},S={key:1,class:"text-red-300"},U=c(" Whoops, something went wrong. "),L=n("br",null,null,-1),k=c("Please check if the id is correct "),A={key:2},R=n("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-5"}," Channel Stats ",-1),E={class:"border-t border-gray-200 px-4 py-5 sm:p-0"},Y={class:"sm:divide-y sm:divide-gray-200"},D={class:"text-sm font-medium text-gray-500"},j={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"};v.render=function(t,e,s,c,b,h){return p(),a("div",f,[y,n("form",{action:"submit",onSubmit:e[2]||(e[2]=r(((...e)=>t.onSubmit&&t.onSubmit(...e)),["prevent"]))},[w,n("div",x,[o(n("input",{type:"text",name:"channelId",id:"channelId",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:t.DEFAULT_CHANNEL_ID,"onUpdate:modelValue":e[1]||(e[1]=e=>t.id=e),ref:"inputEl"},null,8,["placeholder"]),[[l,t.id]])])],32),n("div",_,[t.data.status.start?(p(),a("div",C," Please type in some YouTube channel id ")):i("",!0),t.data.status.error?(p(),a("div",S,[U,L,k])):i("",!0),t.data.status.loading?(p(),a("div",A,"Loading...")):i("",!0),o(n("div",null,[R,n("div",E,[n("dl",Y,[(p(!0),a(d,null,u(t.data.items,((t,e)=>(p(),a("div",{key:e,class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4"},[n("dt",D,g(t.label),1),n("dd",j,g(t.value),1)])))),128))])])],512),[[m,t.data.status.success]])])])};var M=t({name:"App",components:{YoutubeStatsPage:v}});const N={class:"sm:bg-gradient-to-r sm:from-gray-200 sm:to-gray-300 sm:w-screen sm:h-screen sm:grid sm:place-content-center"};M.render=function(t,e,s,o,l,r){const i=b("YoutubeStatsPage");return p(),a("div",N,[n(i)])};h(M).mount("#app");
